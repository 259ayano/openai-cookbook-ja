# File Q&A

「File Q&A」というアプリは、OpenAI APIを使用してファイル内の答えを見つけることができるNext.jsアプリです。ファイルをアップロードして、その内容に関する質問をすることができ、アプリは埋め込みとGPTを使用して、最も関連性の高いファイルから回答を生成します。

このリポジトリには、2つのバージョンのアプリが含まれています。

- `/nextjs`:ブラウザ内でローカルに埋め込みを保存するスタンドアロンのNext.jsアプリです。このアプリを使用するには、OpenAI APIキーが必要です。詳細については、 [README](./nextjs/README.md)を読んでください。
- `/nextjs-with-flask-server`:Flaskサーバーをプロキシとして使用してOpenAI APIにアクセスし、Pineconeをベクターデータベースとして使用するNext.jsアプリです。このアプリを使用するには、OpenAI APIキーとPinecone APIキーが必要です。詳細については [README](./nextjs-with-flask-server/README.md)を読んでください。

アプリのいずれかのバージョンを実行するには、それぞれのサブディレクトリのREADME.mdファイルに記載された手順に従ってください。

## 動作方法
ファイルをアップロードすると、ファイルからテキストが抽出されます。このテキストは、短いテキストチャンクに分割され、各テキストチャンクに対して埋め込みが作成されます。ユーザーが質問をすると、質問に対する埋め込みが作成され、類似性検索が実行され、質問埋め込みと最も類似しているファイルチャンクの埋め込み（すなわち、質問埋め込みと余弦類似度が最も高いもの）が見つかります。次に、コンプリーションズエンドポイントに質問が含まれ、最も関連性の高いファイルチャンクがプロンプトに含まれてAPI呼び出しが行われます。生成モデルは、抽出されたテキスト内に回答が見つかる場合、ファイルチャンク内の質問に対する回答を生成します。

## 制限事項
アプリは、時にはファイルに存在しない回答を生成することがあり、アップロードされていないファイルの存在を想像することがあります。
