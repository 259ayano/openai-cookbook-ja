# File Q&A

File Q&A は、OpenAI API を使用してファイルの中から答えを見つけることができる Next.js のアプリです。ファイルをアップロードして、その内容に関する質問をすることができ、アプリは埋め込みとGPTを使用して、最も関連性の高いファイルから回答を生成します。

このリポジトリには、2つのバージョンのアプリが含まれています。

- `/nextjs` : ブラウザ内でローカルに埋め込みを保存するスタンドアロンのNext.jsアプリです。このアプリを使用するには、OpenAI API キーが必要です。詳細については、 [README](./nextjs/README.md) を読んでください。
- `/nextjs-with-flask-server` : Flaskサーバーをプロキシとして使用して OpenAI API にアクセスし、Pinecone をベクターデータベースとして使用するNext.jsアプリです。このアプリを使用するには、OpenAI API キーと Pinecone API ーが必要です。詳細については [README](./nextjs-with-flask-server/README.md) を読んでください。

どちらのアプリも実行するにはサブディレクトリにあるそれぞれの README.md ファイルに記載された手順に従ってください。

## 動作方法
ファイルをアップロードすると、そのファイルからテキストが抽出されます。このテキストは、短いテキストチャンクに分割され、各テキストチャンクに対して埋め込みが作成されます。ユーザーが質問をすると、質問に対する埋め込みが作成され、質問と最も似ている（質問埋め込みとのコサイン類似度が最も高い）ファイルチャンクの埋め込みを見つけるために類似性検索が実行されます。
次に、質問と最も関連性の高いファイルチャンクがプロンプトに含まれた状態で、補完エンドポイントに API 呼び出しが行われます。そして、生成モデルは、抽出されたテキスト内に回答が見つかる場合、ファイルチャンク内の質問に対する回答を生成します。

## 制限事項
アプリは、時にはファイルに存在しない回答を生成することがあり、アップロードされていないファイルの存在を想像させることがあります。
