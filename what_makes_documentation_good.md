# 何が文書を良くするのか

ドキュメンテーションは、有用な情報を他人の頭の中に入れるものです。より良いドキュメントを書くために、以下のヒントに従いましょう。

## ドキュメントを読みやすくする

上から下まで直線的に読む読者はほとんどいません。 彼らは飛び回って、どの部分が問題を解決するのかを評価しようとします。 検索時間を短縮し、成功の確率を高めるために、ドキュメントを流し読みしやすいものにします。

**コンテンツをタイトル付きのセクションに分割する。**
セクションのタイトルは、読者に集中すべきか先に進むべきかを伝える道しるべの役割を果たします。

**抽象的な名詞よりも有益な文章を含むタイトルを優先する。**
たとえば、「結果」のようなタイトルを使用すると、読者は実際の結果が何であるかを知るために次のテキストに飛び込む必要があります。 対照的に、「ストリーミングにより最初のトークンまでの時間が 50% 短縮されました」というタイトルを使用すると、続きを読む負担なく、読者に情報が即座に提供されます。

**目次をつける。**
目次は、ハッシュマップがリンクリストよりも高速に検索できるのと同じように、読者が情報をより速く見つけるのに役立ちます。目次には、見落とされがちな2つ目の利点もあります。それは、読者にドキュメントに関するヒントを提供し、読む価値があるかどうかを理解するのに役立つということです。

**段落は短くする。**
段落が短いほど、流し読みしやすくなります。 重要なポイントがある場合は、それを一文の段落にまとめて、見逃される可能性を減らしましょう。段落が長いと情報が埋もれてしまう可能性があります。

**独立したプレビューを提供する短いトピック文で段落やセクションを始める。**
流し読みするとき、セクションの最初の単語、最初の行、最初の文に不釣り合いに注目します。 これらの文章は、前のテキストに依存しない方法で書きます。例えば、「これを踏まえて、より高速な方法について話しましょう。」という最初の文を考えてみましょう。この文は、前の段落を読んでいない人には意味がありません。代わりに、単体で理解できるように書きましょう。例えば、「ベクトル データベースは埋め込みの検索を高速化できます。」というように。

**段落やセクションの冒頭には、独立したプレビューを与える短いトピック・センテンスを置く。**
人はスキミングをするとき、セクションの最初の単語、最初の行、最初の文を不釣り合いに見る。これらの文章は、前の文章に依存しないように書きましょう。例えば、"Building on top of this, let's now talk about a faster way. "という最初の文章を考えてみよう。この文章は、前の段落を読んでいない人には無意味でしょう。その代わりに、単体で理解できるように書きましょう。例えば、"Vector databases can speed up embeddings search."（ベクトル・データベースは埋め込み検索をスピードアップできる）。

**トピック文の先頭にトピック単語を置きます。**
読者は、段落の内容を知るために 1、2 単語読むだけで済む場合に最も効率的に流し読みします。 したがって、トピックセンテンスを書くときは、トピックを文の最後ではなく先頭に置くことを好みます。 たとえば、エンベディング検索に関する長い記事の途中で、ベクトル データベースに関する段落を書いていると想像してください。 「ベクター データベースによりエンベディング検索を高速化できます」と書く代わりに、「ベクター データベースによりエンベディング検索が高速化されます」と書くことをお勧めします。 2 番目の文は、段落の冒頭に段落のトピックが配置されているため、流し読みするのに適しています。

**トピック・センテンスの冒頭にトピック・ワードを置く**
読者は、段落の内容を知るために1、2語読むだけでよいときに、最も効率よく読み飛ばす。したがって、トピック・センテンスを書くときは、トピックを文末ではなく、文頭に置くことを好みます。例えば、エンベッディング検索に関する長い記事の途中で、ベクトルデータベースに関する段落を書いているとします。「エンベッディング検索はベクトルデータベースによってスピードアップできる」と書くよりも、「ベクターデータベースによりエンベッディング検索が高速化される」の方がいいでしょう。2番目の文は、段落の最初に段落のトピックを置くので、読み流し（スキミング）に適しています。

**重要な点を前面に置く。**
最も重要な情報を文書やセクションの先頭に置きます。ソクラテス的な大げさな話を書かないでください。結果の前に手順を紹介しないでください。

**箇条書きと表を使う。**
箇条書きのリストと表を使用すると、ドキュメントをざっと読みやすくなります。頻繁に使用しましょう。

**重要なテキストを太字にする。**
読者が見つけやすいように、重要なテキストを太字にすることを恐れないでください。

## 上手に書く

下手に書かれた文章は読むのが苦痛です。上手に書くことで読者への負担を最小限に抑えましょう。

**文章はシンプルにする。**
長い文章を二つに分割する。副詞をカットする。不要な単語やフレーズをカットする。場合によっては命令形を使う。ライティング本に書かれていることを実行してください。

**明確に解析できる文を作成する。**
たとえば、「文のあるセクションにタイトルを付ける」という文章について考えてみましょう。読者が「タイトル」という単語を読んだとき、脳は「タイトル」が名詞になるのか、動詞になるのか、形容詞になるのかをまだ分かりません。文の残りの部分を解析しながら追跡するのは少し頭を使うし、脳が意味を誤って予測した場合には問題が発生する可能性があります。たとえ長くても、より簡単に解析できる文章を優先します (例:「セクションのタイトルを文として書く」)。同様に、「自転車通行禁止運動通知」のような名詞句は、解析に余分な労力がかかるので避けましょう。

**左に分岐する文は避ける。**
言語ツリーは、文内で単語が互いにどのように関係しているかを示します。左分岐ツリーでは、右分岐文よりも多くの内容をメモリに保持する必要があります。これは、幅優先検索と深さ優先検索に似ています。左分岐文の例は、「小麦粉、卵、牛乳、バター、そして少量の塩がパンケーキを作るには必要です。」です。この文では、文の終わりに達するまで、「必要」が何につながっているのかわかりません。 読みやすい右分岐バージョンは、「パンケーキを作るには、小麦粉、卵、牛乳、バター、そして少量の塩が必要です。」です。読者が単語をしばらく保持しなければならない文章に注意し、言い換えることができるかどうかを確認してください。

**文全体にわたって、指示代名詞 (例:「これ」) を避ける。**
たとえば、「前のトピックの説明を基にして、関数呼び出しについて説明しましょう」と言う代わりに、「メッセージの書式設定を基にして、関数呼び出しについて説明しましょう」と言ってみましょう。二番目の文は、読者に前のトピックを思い出す負担を与えないため、理解しやすくなります。 指示代名詞を完全にカットする機会を探してください。たとえば、「関数呼び出しについて話しましょう」などです。

**\*一貫性を保つ。**
人間の脳は、驚くべきパターン照合能力を持っています。矛盾があると、読者をイライラさせたり注意をそらすことになります。どこでもタイトルケースを使用する場合は、タイトルケースを使用してください。どこでも終端カンマを使用する場合は、終端カンマを使用してください。もしクックブックのすべてのノートブックの名前がアンダースコアと大文字小文字で指定されている場合は、アンダースコアと大文字小文字を使用しまましょう。 読者に「あれ、これは変だな」と思わせるようなことはしないでください。読者が矛盾点ではなく、コンテンツに集中できるようにしましょう。

**読者に自分がどう思うか、何をすべきかを伝えない。**
「さて今度は関数の呼び出し方を理解したいと思うでしょう」や「次は関数の呼び出し方を学ぶ必要があります」のような文章は避けてください。どちらの例も読者の心境を推測しており、読者を困らせたり、私達の信用を失墜させたりする可能性があります。読者の状態を推測しないような表現を使いましょう。 例: 「関数を呼び出すには、...」


## 広く役立つようにする

ドキュメントを読む人の知識、言語能力、忍耐力のレベルはさまざまです。たとえ経験豊富な開発者を対象にしているとしても、誰にとっても役立つドキュメントを書くように心がけるべきです。

**簡単に書く。**
必要だと思うよりも簡単に物事を説明してください。多くの読者は英語を母国語としていないかもしれません。多くの読者は専門用語について非常に混乱しており、英文の解析に費やす余力はほとんどないかもしれません。簡単に書きましょう。 (ただし、単純化しすぎないでください。)

**略語は避ける。**
物事を書き出してみましょう。専門家にとってはコストが低く、初心者にとってはメリットが大きいです。IF の代わりに instruction following と記述しましょう。RAG の代わりに、retrieval-augmented generation と書きましょう。(あるいは私の好みの用語では、the search-ask procedure) 
  
**潜在的な問題に対する解決策を提供する。**
たとえ読者の 95% が Python パッケージのインストール方法や環境変数の保存方法を知っていたとしても、積極的に説明する価値はあります。専門家にとって説明を含めることはコストがかからず、読み飛ばすことができます。しかし、説明を省くことは初心者にとってコストがかかります。行き詰まったり、放棄されたりする可能性があります。JavaScript のエキスパートや C++ エンジニアであっても、Python の初心者かもしれないことを忘れないでください。説明が少なすぎるよりは、多すぎる方がいいでしょう。

**具体的で正確な用語を使う。**
専門用語はよくありません。私たち自身ではなく、その分野に不慣れな人達のためにドキュメントを最適化します。例えば、「プロンプト」と書く代わりに「入力」と書きます。または、「コンテキスト制限」と書く代わりに、「最大トークン制限」と書きます。後者の用語はより自明であり、おそらくベースモデル時代に開発された専門用語よりも良いでしょう。
 
**コード例は一般的でエクスポート可能なものにする。**
コードのデモでは、依存関係を最小限に抑えるようにしてください。ユーザーに追加のライブラリをインストールさせないでください。異なるページやセクションを行ったり来たりさせないでください。例はシンプルで自己完結型なものにしましょう。

**トピックは価値によって優先順位をつける。**
よくある問題 (トークンの数え方など) をカバーするドキュメントは、稀な問題 (絵文字データベースの最適化方法など) をカバーするドキュメントよりもはるかに価値があります。それに応じて優先順位を付けます。

**悪い習慣を教えない。**
API キーをコードに保存する必要がない場合は、コードに API キーを保存する例を決して共有しないでください。

**幅広い切り口でトピックを紹介する。**
たとえば、レコメンダーをプログラムする方法を説明する場合は、YouTube の動画から Amazon の商品、Wikipedia に至るまで、レコメンデーションがウェブ全体に広く普及していることを簡単に述べることから始めることを検討してください。狭いトピックを広い切り口で説明することで、不確かな領域に飛び込む前に安心感を与えることができます。また、文章が良く書けていれば、すでに知っている人でも楽しめるかもしれません。

## 正当な理由がある場合は、これらのルールを破ってください

最終的には、自分が最善だと思うことを実行してください。ドキュメンテーションは共感の訓練です。読者の立場に立って、読者にとって最も役立つと思うことをしましょう。
